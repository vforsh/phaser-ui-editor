# https://github.com/max-sixty/worktrunk
# https://worktrunk.dev/config/#user-config

[post-create]
# Ensure the worktree has a .env by copying it from the master worktree (if missing).
copy-env = "tsx ./scripts/worktree/ensure-env.ts"

# Ensure EDITOR_CONTROL_WS_PORT is unique across worktrees.
editor-control-ws-port = "tsx ./scripts/worktree/ensure-editor-control-ws-port.ts"

# Install root dependencies for the worktree.
install = "npm ci --no-audit"

[pre-merge]
typecheck = "npm run typecheck"
lint = "npm run lint:fix"
